<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Warsaw Golden Mile ‚Äì Interactive Map</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<!-- Leaflet CSS -->
<link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=" crossorigin="anonymous">
<style>
  html,body{margin:0;padding:0;height:100%;font-family:system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Helvetica,Arial,sans-serif}
  #map{height:100%;width:100%}
  /* numbered marker */
  .marker-num{display:flex;align-items:center;justify-content:center;width:28px;height:28px;border-radius:50%;background:#ff6b00;color:#fff;font-weight:700;font-size:.8rem;border:2px solid #fff;box-shadow:0 0 4px rgba(0,0,0,.35)}
  /* panels */
  .panel{position:absolute;z-index:1000;background:#fff;padding:10px 12px;border-radius:12px;box-shadow:0 3px 8px rgba(0,0,0,.22);font-size:.84rem;line-height:1.35;overflow-y:auto;max-height:380px;width:280px}
  .panel h4{margin:0 0 6px;font-size:1rem}
  .panel ol{margin:0}
  .legend{bottom:10px;right:10px}
  .itinerary{top:10px;right:10px}
  .recs{top:60px;left:10px;width:300px}
  .recs ol{list-style:none;padding:0;margin:0}
  .recs li{background:#f7f7f7;border-radius:8px;margin:0 0 6px;padding:8px 10px;cursor:pointer;transition:background .2s}
  .recs li:hover{background:#ffe8d9}
  .recs hr{border:0;border-top:1px dashed #ccc;margin:10px 0 8px}
  .recs ul{padding-left:18px;margin:0}
  .recs ul li{margin:0 0 4px}
  /* fab buttons (mobile) */
  .fab{position:absolute;left:10px;width:46px;height:46px;border-radius:50%;background:#ff6b00;color:#fff;display:flex;align-items:center;justify-content:center;font-size:1.3rem;box-shadow:0 2px 6px rgba(0,0,0,.3);z-index:1100;cursor:pointer;user-select:none}
  .fab.fab-legend{bottom:174px}
  .fab.fab-itinerary{bottom:118px}
  .fab.fab-recs{bottom:62px}
  /* mobile overrides */
  @media(max-width:600px){
    .panel{width:90vw;max-height:50vh;display:none;font-size:.95rem}
    .marker-num{width:24px;height:24px;font-size:.7rem}
  }
</style>
<!-- Leaflet JS -->
<script defer src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js" integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=" crossorigin="anonymous"></script>
</head>
<body>
<div id="map"></div>
<script>
window.addEventListener('DOMContentLoaded',()=>{
  /* ===== Data ===== */
  const bars=[
    {n:1,name:"PINTA Warszawa",addr:"Chmielna 7/9",coords:[52.23236,21.00972],time:"17:00‚Äì17:40",beer:"Atak Chmielu IPA",food:"–∫—É–±–∞–Ω–æ—Å –∏–ª–∏ —Ä—ã–±–Ω—ã–π —Ç–æ—Å—Ç"},
    {n:2,name:"Hoppiness Beer & Food",addr:"Chmielna 27/31",coords:[52.22925,21.01389],time:"17:45‚Äì18:25",beer:"Artezan NZ West Coast IPA",food:"Hoppiness Burger"},
    {n:3,name:"BrewDog Warszawa",addr:"Widok 8",coords:[52.23245,21.01105],time:"18:30‚Äì19:10",beer:"Punk IPA",food:"Buffalo Wings"},
    {n:4,name:"GorƒÖczka Z≈Çota",addr:"Wilcza 29",coords:[52.22538,21.013],time:"19:15‚Äì19:55",beer:"Komes Porter Baltic",food:"—Ç–∞—Ç–∞—Ä—Å–∫–∏–π –±–∏—Ñ—à—Ç–µ–∫—Å"},
    {n:5,name:"Hopito Parkingowa",addr:"≈ªurawia 32/34",coords:[52.22546,21.01759],time:"20:00‚Äì20:40",beer:"NEIPA Tropic Vortex",food:"street‚Äëfood tacos"},
    {n:6,name:"Jabeerwocky",addr:"Nowogrodzka 12",coords:[52.22852,21.01066],time:"20:45‚Äì21:25",beer:"Collab DDH DIPA",food:"–∫—Ä—ç–Ω—Ü–µ–ª—å —Å –≥–æ—Ä—á–∏—Ü–µ–π"},
    {n:7,name:"Kufle i Kapsle",addr:"Nowogrodzka 25",coords:[52.2285,21.0072],time:"21:30‚Äì22:10",beer:"Smoky Joe Peated Stout",food:"—Å–∏–ª–µ–∑—Å–∫–∞—è –∫–æ–ª–±–∞—Å–∫–∞"},
    {n:8,name:"PiwPaw Beer Heaven",addr:"Foksal 16",coords:[52.23603,21.02055],time:"22:15‚Äì22:55",beer:"Gose ‚ÄòHokus¬†Pokus‚Äô",food:"nachos & —Å—ã—Ä–Ω—ã–π –¥–∏–ø"},
    {n:9,name:"The Alchemist Gastropub",addr:"pl. Pi≈Çsudskiego 3",coords:[52.24038,21.01144],time:"23:00‚Äì23:40",beer:"Self‚Äëpour Pilsner",food:"flatbread"},
    {n:10,name:"Same Krafty",addr:"Nowomiejska 10",coords:[52.24909,21.01184],time:"23:50‚Äì00:25",beer:"Local Saison",food:"–±—É—Ä—Ä–∞—Ç–∞‚Äë–ø–∏—Ü—Ü–∞"},
    {n:11,name:"Cze≈õƒá!",addr:"Grzybowska 2",coords:[52.23666,21.00479],time:"00:35‚Äì01:05",beer:"SALSA Sour Ale",food:"–ø–∞–Ω–∏–Ω–∏"},
    {n:12,name:"Drugie Dno",addr:"Nowogrodzka 4",coords:[52.22928,21.01211],time:"01:15‚Äì‚è∞",beer:"Barrel‚Äëaged Imperial Stout",food:"—Å—ã—Ä–Ω–∞—è –¥–æ—Å–∫–∞"}
  ];
  const snacks=["Pretzel platter","Charcuterie board","Nachos grande","15 buffalo wings","Polish tapas set"];
  const tips=["–ü–µ–π—Ç–µ 0,3¬†–ª –∏ –≤–æ–¥—É","–ú–∞—Ä—à—Ä—É—Ç –ø–µ—à–∫–æ–º","–ó–∞–ø–∞—Å–Ω–æ–π –±–∞—Ä ‚Äì Alchemist","–§–æ—Ç–æ —Å –≤—ã–≤–µ—Å–∫–∞–º–∏ = –±–æ–Ω—É—Å"];

  /* ===== Map init ===== */
  if(typeof L==='undefined'){document.body.textContent='Leaflet not loaded';return;}
  const map=L.map('map').setView([52.233,21.014],14);
  L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png',{maxZoom:19,attribution:'¬© OpenStreetMap'}).addTo(map);

  const path=[];
  bars.forEach(b=>{
    const icon=L.divIcon({html:`<span class='marker-num'>${b.n}</span>`,className:''});
    L.marker(b.coords,{icon}).addTo(map)
     .bindPopup(`<strong>${b.n}. ${b.name}</strong><br>${b.addr}<br><em>${b.time}</em><br>üç∫ ${b.beer}<br>üçΩÔ∏è ${b.food}`);
    path.push(b.coords);
  });
  L.polyline(path,{color:'#ff6b00',dashArray:'6 4'}).addTo(map);
  map.fitBounds(path,{padding:[20,20]});

  /* ===== Panels ===== */
  function createPanel(cls,html){
    const el=document.createElement('div');el.className=`panel ${cls}`;el.innerHTML=html;document.body.appendChild(el);
    L.DomEvent.disableClickPropagation(el);L.DomEvent.disableScrollPropagation(el);
    return el;
  }

  const legendHTML=`<h4>Legend</h4><ol>${bars.map(b=>`<li><b>${b.n}</b> ${b.name}</li>`).join('')}</ol>`;
  const itineraryHTML=`<h4>–ú–∞—Ä—à—Ä—É—Ç</h4><ol>${bars.map(b=>`<li><b>${b.time}</b> ‚Äì ${b.name}</li>`).join('')}</ol>`;
  const recsHTML=`<h4>–ß—Ç–æ –∑–∞–∫–∞–∑–∞—Ç—å</h4><ol>${bars.map(b=>`<li data-n='${b.n}'>üç∫ ${b.beer}<br>üçΩÔ∏è ${b.food}</li>`).join('')}</ol><hr><h4>üçü Snacks for 3</h4><ul>${snacks.map(s=>`<li>${s}</li>`).join('')}</ul><hr><h4>üöÄ –°–æ–≤–µ—Ç—ã</h4><ul>${tips.map(t=>`<li>${t}</li>`).join('')}</ul>`;

  const legendPanel=createPanel('legend',legendHTML);
  const itineraryPanel=createPanel('itinerary',itineraryHTML);
  const recsPanel=createPanel('recs',recsHTML);

  /* ===== Mobile FAB buttons ===== */
  if(window.innerWidth<=600){
    [legendPanel,itineraryPanel,recsPanel].forEach(p=>p.style.display='none');
    const makeFab=(cls,label,panel)=>{
      const b=document.createElement('div');b.className=`fab ${cls}`;b.textContent=label;document.body.appendChild(b);
      b.addEventListener('click',()=>{panel.style.display=(panel.style.display==='none')?'block':'none';});
    };
    makeFab('fab-legend','‚Ñπ',legendPanel);
    makeFab('fab-itinerary','‚è∞',itineraryPanel);
    makeFab('fab-recs','üç∫',recsPanel);
  }
});
</script>
</body>
</html>
